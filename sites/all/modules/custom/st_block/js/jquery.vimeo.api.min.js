(function(c,a){var b={catchMethods:{methodreturn:[],count:0},init:function(g){var f,h,e;if(!g.originalEvent.origin.match(/vimeo/g)){return}if(!g.originalEvent.hasOwnProperty("data")){return}e=c.type(g.originalEvent.data)==="string"?c.parseJSON(g.originalEvent.data):g.originalEvent.data;if(!e){return}f=this.setPlayerID(e);h=this.setVimeoAPIurl(f);if(e.hasOwnProperty("event")){this.handleEvent(e,f,h)}if(e.hasOwnProperty("method")){this.handleMethod(e,f,h)}},setPlayerID:function(e){if(e.hasOwnProperty("player_id")){if(c("#"+e.player_id).length){return c("#"+e.player_id)}else{return c("iframe[src*="+e.player_id+"]")}}else{return c("iframe[src*='vimeo']").eq(0)}},setVimeoAPIurl:function(e){if(e.attr("src").substr(0,4)!=="http"){return a.location.protocol!=="https"?"http:"+e.attr("src").split("?")[0]:"https:"+e.attr("src").split("?")[0]}else{return e.attr("src").split("?")[0]}},handleMethod:function(g,e,f){this.catchMethods.methodreturn.push(g.value)},handleEvent:function(j,f,h){switch(j.event.toLowerCase()){case"ready":for(var k in c._data(f[0],"events")){if(k.match(/loadProgress|playProgress|play|pause|finish|seek|cuechange/)){f[0].contentWindow.postMessage(JSON.stringify({method:"addEventListener",value:k}),h)}}if(f.data("vimeoAPICall")){var e=f.data("vimeoAPICall");for(var g=0;g<e.length;g++){f[0].contentWindow.postMessage(JSON.stringify(e[g].message),e[g].api)}f.removeData("vimeoAPICall")}f.data("vimeoReady",true);f.triggerHandler("ready");break;case"seek":f.triggerHandler("seek",[j.data]);break;case"loadProgress":f.triggerHandler("loadProgress",[j.data]);break;case"playProgress":f.triggerHandler("playProgress",[j.data]);break;case"pause":f.triggerHandler("pause");break;case"finish":f.triggerHandler("finish");break;case"play":f.triggerHandler("play");break;case"cuechange":f.triggerHandler("cuechange");break}}};c(a).on("message",function(d){b.init(d)});c.vimeo=function(f,e,d){var i={},h=b.catchMethods.methodreturn.length;if(typeof e==="string"){i.method=e}if(typeof d!==undefined&&typeof d!=="function"){i.value=d}if(f.prop("tagName").toLowerCase()==="iframe"&&i.hasOwnProperty("method")){if(f.data("vimeoReady")){f[0].contentWindow.postMessage(JSON.stringify(i),b.setVimeoAPIurl(f))}else{var g=f.data("vimeoAPICall")?f.data("vimeoAPICall"):[];g.push({message:i,api:b.setVimeoAPIurl(f)});f.data("vimeoAPICall",g)}}if((e.toString().substr(0,3)==="get"||e.toString()==="paused")&&typeof d==="function"){(function(m,l,k){var j=a.setInterval(function(){if(b.catchMethods.methodreturn.length!=m){a.clearInterval(j);l(b.catchMethods.methodreturn[k])}},10)})(h,d,b.catchMethods.count);b.catchMethods.count++}return f};c.fn.vimeo=function(e,d){return c.vimeo(this,e,d)}})(jQuery,window);